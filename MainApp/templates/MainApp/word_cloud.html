{% extends "base_navbar.html" %}
{% load i18n %}
{% load static %}
{% load crispy_forms_tags %}
{% load thumbnail %}

{% block custom_css %}
    <!-- Main.css -->
    <link href="{% static "MainApp/css/ext/d3-tip.css" %}" rel="stylesheet">
    <link href="{% static "MainApp/css/word_cloud.css" %}" rel="stylesheet">
{% endblock %}


{% block content %}
<!-- COLLECTION AREA -->

{% verbatim %}
<script id="tooltip-template" type="text/x-handlebars-template">
    <div id="tip-container-div">
    {{#if fear_item.image_2}}
        <div class="tip-image-div" id="tip-image-div-double">
            <img class="mt-0 tip-image" src="/media/{{fear_item.image_1_tb}}" alt="Card image cap">
            <!-- <img class="mt-0 tip-image" v-if="fear_item.image_2_tb" src="/media/{{fear_item.image_2_tb}}" alt="Card image cap"> -->
        </div>
    {{else}}
        <div class="tip-image-div" id="tip-image-div-single">
            <img class="mt-0 tip-image" src="/media/{{fear_item.image_1_tb}}" alt="Card image cap">
        </div>
    {{/if}}

    {{#if fear_text_present }}
        <div id="tip-text-description-div" class="p-0 mt-2 tip-text-div" style="text-align: center;">
            {{#each fear_text}}
            <p class="tip-text">{{this}}</p>
            {{/each}}
        </div>
    {{/if}}
    </div>
</script>
{% endverbatim %}

<div class="row m-0" style="height: 100%; width: 100%;">
    <!-- <div id="cloud-div" class="m-0 p-0" style="width: 100%;"></div> -->
    <div id="cloud-div" class="m-0 p-0 col-lg-10" style="width: 100%;"></div>
    <div id="explanation-div" class="col-lg-2" style="height: auto; width: 100%;">
        <p>Each participant of this project observes their fears through drawings and writings. This visualization maps the connections between keywords that emerge in the writings we have gathered. The more frequently a word is used, the larger it is in the visualisation.</p>
        <p>Click on any word or thumbnail to explore all the connections mapped to it. Hover over a thumbnail to see a preview of each entry. Shift + click on a thumbnail to view the full entry.</p>
    </div>
</div>

{% endblock %}


{% block custom_js %}
    <!-- Main.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="{% static "MainApp/scripts/ext/d3-tip.js" %}" %}"></script>
    <script src="{% static "MainApp/scripts/word_cloud.js" %}" %}"></script>
{% endblock %}

